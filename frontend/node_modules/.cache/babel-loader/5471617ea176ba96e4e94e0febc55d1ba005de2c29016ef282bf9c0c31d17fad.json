{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  products: [],\n  local_query: \"\",\n  search_parameters: {\n    device: \"\",\n    engine: \"\",\n    gl: \"\",\n    google_domain: \"\",\n    hl: \"\",\n    q: \"suggest\",\n    shoprs: \"\"\n  },\n  search_parameters_change_locally: false,\n  push_to_previous_search_status: true,\n  previous_search_status: []\n};\nconst searchSlice = createSlice({\n  name: \"search\",\n  initialState,\n  reducers: {\n    setProducts(state, action) {\n      state.products = action.payload;\n    },\n    setLocalQuery(state, action) {\n      state.local_query = action.payload;\n    },\n    setSearchParameters(state, action) {\n      if (state.search_parameters_change_locally && state.push_to_previous_search_status) {\n        state.previous_search_status.push(state.search_parameters);\n      }\n      state.search_parameters = action.payload;\n    },\n    setSearchParameterChangeLocally(state, action) {\n      state.search_parameters_change_locally = action.payload;\n    },\n    setPushToPreviousSearchStatus(state, action) {\n      state.push_to_previous_search_status = action.payload;\n    },\n    goBackToPreviousStatus(state) {\n      state.previous_search_status = state.previous_search_status.slice(0, state.previous_search_status.length - 1);\n      state.search_parameters = state.previous_search_status[state.previous_search_status.length - 1];\n    },\n    resetSearchState() {\n      return initialState;\n    }\n  }\n});\nexport const {\n  setProducts,\n  setLocalQuery,\n  setSearchParameters,\n  goBackToPreviousStatus,\n  resetSearchState,\n  setSearchParameterChangeLocally,\n  setPushToPreviousSearchStatus\n} = searchSlice.actions;\nexport default searchSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","products","local_query","search_parameters","device","engine","gl","google_domain","hl","q","shoprs","search_parameters_change_locally","push_to_previous_search_status","previous_search_status","searchSlice","name","reducers","setProducts","state","action","payload","setLocalQuery","setSearchParameters","push","setSearchParameterChangeLocally","setPushToPreviousSearchStatus","goBackToPreviousStatus","slice","length","resetSearchState","actions","reducer"],"sources":["C:/project2025/ShopBest/frontend/src/store/searchSlice.tsx"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { SearchParameters, ShoppingResults } from \"../type\";\r\n\r\ninterface SearchState {\r\n  products: ShoppingResults[];\r\n  local_query: string;\r\n  search_parameters: SearchParameters;\r\n  previous_search_status: SearchParameters[];\r\n  search_parameters_change_locally: boolean;\r\n  push_to_previous_search_status: boolean;\r\n}\r\n\r\nconst initialState: SearchState = {\r\n  products: [],\r\n  local_query: \"\",\r\n  search_parameters: {\r\n    device: \"\",\r\n    engine: \"\",\r\n    gl: \"\",\r\n    google_domain: \"\",\r\n    hl: \"\",\r\n    q: \"suggest\",\r\n    shoprs: \"\"\r\n  },\r\n  search_parameters_change_locally: false,\r\n  push_to_previous_search_status: true,\r\n  previous_search_status: []\r\n};\r\n\r\nconst searchSlice = createSlice({\r\n  name: \"search\",\r\n  initialState,\r\n  reducers: {\r\n    setProducts(state, action: PayloadAction<ShoppingResults[]>) {\r\n      state.products = action.payload;\r\n    },\r\n    setLocalQuery(state, action: PayloadAction<string>) {\r\n      state.local_query = action.payload;\r\n    },\r\n    setSearchParameters(state, action: PayloadAction<SearchParameters>) {\r\n      if(state.search_parameters_change_locally && state.push_to_previous_search_status){\r\n        state.previous_search_status.push(state.search_parameters);\r\n      }\r\n      state.search_parameters = action.payload;\r\n    },\r\n    setSearchParameterChangeLocally(state, action: PayloadAction<boolean>){\r\n      state.search_parameters_change_locally = action.payload;\r\n    },\r\n    setPushToPreviousSearchStatus(state, action: PayloadAction<boolean>){\r\n      state.push_to_previous_search_status = action.payload;\r\n    },\r\n    goBackToPreviousStatus(state){\r\n      state.previous_search_status = state.previous_search_status.slice(0, state.previous_search_status.length - 1);\r\n      state.search_parameters = state.previous_search_status[state.previous_search_status.length - 1];\r\n    },\r\n    resetSearchState() {\r\n      return initialState;\r\n    }\r\n  },\r\n});\r\n\r\nexport const { setProducts, setLocalQuery, setSearchParameters, goBackToPreviousStatus, resetSearchState, setSearchParameterChangeLocally,  setPushToPreviousSearchStatus } = searchSlice.actions;\r\nexport default searchSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAY7D,MAAMC,YAAyB,GAAG;EAChCC,QAAQ,EAAE,EAAE;EACZC,WAAW,EAAE,EAAE;EACfC,iBAAiB,EAAE;IACjBC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,EAAE,EAAE,EAAE;IACNC,aAAa,EAAE,EAAE;IACjBC,EAAE,EAAE,EAAE;IACNC,CAAC,EAAE,SAAS;IACZC,MAAM,EAAE;EACV,CAAC;EACDC,gCAAgC,EAAE,KAAK;EACvCC,8BAA8B,EAAE,IAAI;EACpCC,sBAAsB,EAAE;AAC1B,CAAC;AAED,MAAMC,WAAW,GAAGf,WAAW,CAAC;EAC9BgB,IAAI,EAAE,QAAQ;EACdf,YAAY;EACZgB,QAAQ,EAAE;IACRC,WAAWA,CAACC,KAAK,EAAEC,MAAwC,EAAE;MAC3DD,KAAK,CAACjB,QAAQ,GAAGkB,MAAM,CAACC,OAAO;IACjC,CAAC;IACDC,aAAaA,CAACH,KAAK,EAAEC,MAA6B,EAAE;MAClDD,KAAK,CAAChB,WAAW,GAAGiB,MAAM,CAACC,OAAO;IACpC,CAAC;IACDE,mBAAmBA,CAACJ,KAAK,EAAEC,MAAuC,EAAE;MAClE,IAAGD,KAAK,CAACP,gCAAgC,IAAIO,KAAK,CAACN,8BAA8B,EAAC;QAChFM,KAAK,CAACL,sBAAsB,CAACU,IAAI,CAACL,KAAK,CAACf,iBAAiB,CAAC;MAC5D;MACAe,KAAK,CAACf,iBAAiB,GAAGgB,MAAM,CAACC,OAAO;IAC1C,CAAC;IACDI,+BAA+BA,CAACN,KAAK,EAAEC,MAA8B,EAAC;MACpED,KAAK,CAACP,gCAAgC,GAAGQ,MAAM,CAACC,OAAO;IACzD,CAAC;IACDK,6BAA6BA,CAACP,KAAK,EAAEC,MAA8B,EAAC;MAClED,KAAK,CAACN,8BAA8B,GAAGO,MAAM,CAACC,OAAO;IACvD,CAAC;IACDM,sBAAsBA,CAACR,KAAK,EAAC;MAC3BA,KAAK,CAACL,sBAAsB,GAAGK,KAAK,CAACL,sBAAsB,CAACc,KAAK,CAAC,CAAC,EAAET,KAAK,CAACL,sBAAsB,CAACe,MAAM,GAAG,CAAC,CAAC;MAC7GV,KAAK,CAACf,iBAAiB,GAAGe,KAAK,CAACL,sBAAsB,CAACK,KAAK,CAACL,sBAAsB,CAACe,MAAM,GAAG,CAAC,CAAC;IACjG,CAAC;IACDC,gBAAgBA,CAAA,EAAG;MACjB,OAAO7B,YAAY;IACrB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEiB,WAAW;EAAEI,aAAa;EAAEC,mBAAmB;EAAEI,sBAAsB;EAAEG,gBAAgB;EAAEL,+BAA+B;EAAGC;AAA8B,CAAC,GAAGX,WAAW,CAACgB,OAAO;AACjM,eAAehB,WAAW,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}